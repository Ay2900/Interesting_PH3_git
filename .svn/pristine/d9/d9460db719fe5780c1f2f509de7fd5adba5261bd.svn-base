const dbpool=require("../config/dbpoolconfig");
const CommodityDao={
        getAllGoods(params){
            return new Promise((resolve,reject)=>{
                dbpool.connect("SELECT\n" +
                    "spu_table.SPU_code,\n" +
                    "spu_table.SPU_name,\n" +
                    "spu_table.SPU_describe,\n" +
                    "spu_table.SPU_head_img_path,\n" +
                    "sku_table.SKU_code,\n" +
                    "sku_table.sell_price\n" +
                    "FROM\n" +
                    "spu_table\n" +
                    "INNER JOIN sku_table ON sku_table.SPU_code = spu_table.SPU_code\n" +
                    "GROUP BY\n" +
                    "spu_table.SPU_code\n",params,(err,data)=>{
                    console.log("Dao：");
                    console.log(data);
                    resolve(data);
                })
            })
        },
        getcommodityDetails(params){
        return new Promise((resolve,reject)=>{
            dbpool.connect("SELECT\n" +
                "spu_table.SPU_code,\n" +
                "sku_table.SKU_code,\n" +
                "sku_table.SKU_name,\n" +
                "sku_table.sell_price,\n" +
                "sku_table.stock,\n" +
                "sku_table.SKU_size_pic_path,\n" +
                "sku_table.SKU_pic_path,\n" +
                "spu_table.SPU_name,\n" +
                "sku_spec_table.spec_option_id,\n" +
                "spec_option_table.spec_id,\n" +
                "spec_option_table.spec_option_value\n" +
                "FROM\n" +
                "spu_table\n" +
                "INNER JOIN sku_table ON sku_table.SPU_code = spu_table.SPU_code\n" +
                "INNER JOIN sku_spec_table ON sku_spec_table.SKU_code = sku_table.SKU_code\n" +
                "INNER JOIN spec_option_table ON sku_spec_table.spec_option_id = spec_option_table.spec_option_id\n" +
                "WHERE\n" +
                "spu_table.SPU_code = 1\n",params,(err,data)=>{
                console.log("Dao：");
                console.log(data);
                resolve(data);
            })
        })
    },
        detailGoods(params){
            return new  Promise((resolve,reject)=>{
                dbpool.connect("",params,(err,data)=>{
                    console.log(data);

                })
            })
        }
};

module.exports=CommodityDao;